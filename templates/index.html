<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expense Tracker</title>
<style>
* { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
body { background:#f4f6f8; margin:0; padding:0; }
.container { max-width: 1000px; margin:auto; padding:20px; }
.card { background:#fff; border-radius:12px; padding:20px; box-shadow:0 8px 25px rgba(0,0,0,0.06); margin-bottom:20px; }
h1 { margin-top:0; font-size:26px; }
.total { font-size:18px; color:#333; margin-bottom:10px; }

/* FORM */
.form-grid { display:grid; grid-template-columns: 1fr 1fr 1fr auto; gap:10px; }
input, button { padding:10px; border-radius:8px; border:1px solid #ccc; font-size:14px; }
button { background:#2563eb; color:white; border:none; cursor:pointer; }
button:hover { background:#1e4fd8; }

/* TABLE */
.table-wrapper { overflow-x:auto; }
table { width:100%; border-collapse:collapse; margin-top:10px; }
th, td { padding:10px; border-bottom:1px solid #eee; text-align:left; font-size:14px; }
.actions form { display:inline-block; }

/* MOBILE */
@media (max-width:700px) {
    .form-grid { grid-template-columns: 1fr; }
    table, thead { display:block; }
    tr { display:block; margin-bottom:15px; background:#fafafa; padding:10px; border-radius:8px; }
    td { display:flex; justify-content:space-between; border:none; padding:6px 0; }
    th { display:none; }
}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <h1>Expense Tracker</h1>
    <div class="total">Total Expenses: ₹{{ total }}</div>
    <form method="POST" class="form-grid">
      <input name="title" placeholder="Expense title" required>
      <input name="amount" type="number" placeholder="Amount" required>
      <input name="category" placeholder="Category" required>
      <button>Add</button>
    </form>
  </div>

  <div class="card table-wrapper">
    <table>
      <thead>
        <tr><th>Title</th><th>Amount</th><th>Category</th><th>Date</th><th>Actions</th></tr>
      </thead>
      <tbody>
        {% for e in expenses %}
        <tr>
          <td>{{ e.title }}</td>
          <td>₹{{ e.amount }}</td>
          <td>{{ e.category }}</td>
          <td>{{ e.created_at }}</td>
          <td class="actions">
            <form method="POST" action="/edit/{{ e.id }}">
              <input name="title" value="{{ e.title }}" required>
              <input name="amount" type="number" value="{{ e.amount }}" required>
              <input name="category" value="{{ e.category }}" required>
              <button>Edit</button>
            </form>
            <form method="POST" action="/delete/{{ e.id }}">
              <button style="background:#dc2626">Delete</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
</body>
</html>

