<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Expense Tracker</title>

<style>
* { box-sizing: border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto; }

body {
    background: #f4f6f8;
    margin: 0;
}

.container {
    max-width: 1000px;
    margin: auto;
    padding: 20px;
}

.card {
    background: white;
    border-radius: 14px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,.06);
}

h1 { margin: 0 0 10px; }

.total { font-size: 18px; margin-bottom: 15px; }

form.add-form {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 10px;
}

input, button {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

button {
    background: #2563eb;
    color: white;
    border: none;
    cursor: pointer;
}

button.delete {
    background: #dc2626;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 10px;
    border-bottom: 1px solid #eee;
}

@media (max-width: 700px) {
    form.add-form {
        grid-template-columns: 1fr;
    }

    table, thead {
        display: block;
    }

    tr {
        display: block;
        margin-bottom: 15px;
        background: #fafafa;
        padding: 10px;
        border-radius: 10px;
    }

    td {
        display: flex;
        justify-content: space-between;
        border: none;
    }

    th { display: none; }
}
</style>
</head>

<body>
<div class="container">

<div class="card">
<h1>Expense Tracker</h1>
<div class="total">Total: â‚¹{{ total }}</div>

<form method="POST" class="add-form">
    <input name="title" placeholder="Title" required>
    <input name="amount" type="number" placeholder="Amount" required>
    <input name="category" placeholder="Category" required>
    <button>Add</button>
</form>
</div>

<div class="card">
<table>
<thead>
<tr>
<th>Title</th><th>Amount</th><th>Category</th><th>Date</th><th>Actions</th>
</tr>
</thead>
<tbody>

{% for e in expenses %}
<tr>
<form method="POST" action="/edit/{{ e.id }}">
<td><input name="title" value="{{ e.title }}" required></td>
<td><input name="amount" type="number" value="{{ e.amount }}" required></td>
<td><input name="category" value="{{ e.category }}" required></td>
<td>{{ e.created_at }}</td>
<td>
    <button type="submit">Save</button>
</form>

<form method="POST" action="/delete/{{ e.id }}" style="margin-top:5px;">
    <button type="submit" class="delete">Delete</button>
</form>
</td>
</tr>
{% endfor %}

</tbody>
</table>
</div>

</div>
</body>
</html>
